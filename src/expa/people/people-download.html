<style>
</style>
<template id="people-extra-dropdown-download">
	<li>
		<a ng-click="download()" class="archived status">Download</a>
	</li>
</template>
<script>
(function(tim, $){

	var download = function(){
		var people = angular.element($('main')).scope().vm.people;
		tim.helper.get('utility').downloadCSV({
			filename: 'people.csv',
			data: people
		});
	};

    var main = function(){
    	tim.find('.dropdown-menu.actions').then(function(el){
			var button = tim.template.get('#people-extra-dropdown-download').compile();
			$(button).appendTo(el);
			button.scope.download = download;
		});
    };

	tim.script.add({
		name: 'people-download',
		route: 'https://experience.aiesec.org/#/people',
        script: main
	});
	
})(aigTim, jQuery);
</script>